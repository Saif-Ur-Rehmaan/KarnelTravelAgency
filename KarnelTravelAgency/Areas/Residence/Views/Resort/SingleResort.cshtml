@model Bundle_SinglelResortViewModel

@{
    ViewData["Title"] = "SingleHotel | Book last-minute hotels &amp; more  ";
}
@if (TempData["BookingResult"] != null)
{
    @if ((bool)TempData["BookingResult"])
    {
        <div class="alert alert-success" role="alert">
            Booking successful!
        </div>
    }
    else
    {
        <div class="alert alert-danger" role="alert">
            Booking failed. Please try again. @TempData["errorMsg"].ToString()
        </div>
    }
}
<div class="container">
    <h1 class="mt-5">Resort Name</h1>
    <div class="row mt-4">
        <div class="col-md-6">
            <img src="~/@Model.resort.ResortImg" class="img-fluid w-100 rounded" alt="Hotel Image">
        </div>
        <div class="col-md-6">
            <h3>Resort Description</h3>
            <p>@Model.resort.resortlDescription</p>

            <h3>Location</h3>
            <p>@Model.resort.Location</p>
            <h3>Rating</h3>
            <p>@Model.resort.Rating/5</p>
            <h3>Price</h3>

            <!-- Add more details like room types, amenities, etc. -->
        </div>
    </div>
    <div class="row mt-4">
        <div class="col">
            <h2>Reviews</h2>
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">John Doe</h5>
                    <p class="card-text">Great experience! The hotel staff was very friendly and the facilities were excellent.</p>
                    <p class="card-text"><small class="text-muted">Posted on January 1, 2024</small></p>
                </div>
            </div>
            <!-- More reviews can be added here -->
        </div>
    </div>



    <h2>Personal Details For Resort Room Booking</h2>

    <form action="/SingleResortRoomBooking" method="post">
        <input type="hidden" asp-for="@Model.BookedResortRoom.ResortRoomID" id="roomId" />
        <input type="hidden" asp-for="@Model.resort.ResortID" value="@Model.resort.ResortID" />

        <div class="form-group">
            <label asp-for="@Model.BookedResortRoom.CheckInDate">Check-in Date:</label>
            <input asp-for="@Model.BookedResortRoom.CheckInDate" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.CheckInDate" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="@Model.BookedResortRoom.CheckOutDate">Check-out Date:</label>
            <input asp-for="@Model.BookedResortRoom.CheckOutDate" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.CheckOutDate" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="@Model.BookedResortRoom.FirstName">First Name:</label>
            <input asp-for="@Model.BookedResortRoom.FirstName" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.FirstName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="@Model.BookedResortRoom.LastName">Last Name:</label>
            <input asp-for="@Model.BookedResortRoom.LastName" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.LastName" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="Email">Email:</label>
            <input asp-for="@Model.BookedResortRoom.Email" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.Email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label for="Phone">Phone:</label>
            <input asp-for="@Model.BookedResortRoom.Phone" class="form-control" />
            <span asp-validation-for="@Model.BookedResortRoom.Phone" class="text-danger"></span>
        </div>
        <button type="submit" class="hidden btn btn-primary" id="submitOfBookRoomForm">Submit</button>
    </form>
    <div class="container">
        <h1>Resort Room List</h1>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            @foreach (var room in Model.RoomsOfHotels)
            {
                <div class="col">
                    <div class="card h-100">


                        <h5 class="card-title">Room @room.RoomNumber</h5>
                        <p class="card-text">Type: @room.RoomType</p>
                        <p class="card-text">Capacity: @room.Capacity</p>
                        <p class="card-text">Price: $@room.Price</p>
                        <button onclick="roomId(@room.RoomID)" class="btn btn-primary">Book Now</button>

                    </div>
                </div>
            }

        </div>
    </div>



</div>

@section Scripts {
    <script>
        function roomId(id) {
            let inp = document.getElementById("roomId");
            let submitbnt = document.getElementById("submitOfBookRoomForm");

            inp.setAttribute("value", id);

            submitbnt.click();
        }
    </script>
}